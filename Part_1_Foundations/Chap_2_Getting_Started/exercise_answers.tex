\documentclass{article}
\usepackage[noend]{algpseudocode}
\usepackage{amsmath}

\algnewcommand\algorithmicto{\textbf{to}}
\algrenewtext{For}[3]{\algorithmicfor\ $#1 \gets #2$ \algorithmicto\ $#3$ \algorithmicdo}
\let\oldReturn\Return
\renewcommand{\Return}{\State\oldReturn}

\title{Exercise answers - Chapter 2 - Getting Started}
\author{Christian Duffau-Rasmussen}

\begin{document}

\subsubsection*{2.1-3 Linear Search}

\begin{algorithmic}[1]
\Procedure{Linear-Search}{A, v}
\For{i}{1}{\text{length}[A]}
\If{$A[i]==v$}
\Return $i$
\EndIf
\EndFor
\Return NILL
\EndProcedure
\end{algorithmic}

\paragraph{Proof of correctness}

To prove linear search is correct, I formulate a \emph{loop invariant} that need to hold true at \emph{initialization}, during \emph{maintainance} and at \emph{termination}.

\subparagraph{Loop invariant} At the start of loop iteration $i$, the value $v$ is not in the sub-array $A[1..i-1]$. In formal terms, $v \notin \{ A[j] \vert j\in\{1,...,i-1\} \}$

\subparagraph{Initialization} At initialization $i=0$, so the sub-array $A[1..i-1]$ is empty. So $v$ is trivially not a member of that array, and the loop invariant holds.

\subparagraph{Maintenance} Assuming that $v$ is not in the sub-array $A[1..i-1]$ at the start of iteration $i$, then two outcomes are possible during the iteration. Either, $A[i] == v$ and the loop terminates, or $A[i]\neq v$ and $v$ is not an element of the array $A[1..i]$ which is the loop invariance condition for iteration $i+1$.

\subparagraph{Termination} The algoritm terminates in two different ways. The first happens when $A[i] == v$, assuming $v \notin A[1..i-1]$ before termination, then the loop invariant still holds. Again, assuming $v \notin A[1..i-1]$ before termination. In the second case we have that $i=n+1$, in that case $v \notin A[1..i-1]=A[1..n]$, which is the entire array, and the procedure returns NILL.

\subsubsection*{2.2-3}
Assuming the index of correct element is uniformlly distributed from 1 to $n$, the expected index is $E[i] = n/2$. So the average case running time must be $c_1\frac{n}{2} + c_2$, where $c_1$ is the running time of each comparison $A[i]==v$ and the loop increment,  and $c_2$ is the running time of the return statement. In the worst case the algorithm needs to run through all $n$ elements as well as returning NILL, so the running time is $c_1n + c_2$.  
Both the average and worst case running times of linear search are $\Theta(n)$.

\end{document}